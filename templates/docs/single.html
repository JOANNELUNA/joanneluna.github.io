{% extends "base.html" %}
{% block content %}
  <article class="doc">
    <h1 class="title">{{ page.title }}</h1>
    {% if page.date %}<p class="meta">{{ page.date | date(format="%Y-%m-%d") }}</p>{% endif %}

    {% if page.toc and page.toc | length > 0 %}
    <details class="toc" open>
      <summary>Table of contents</summary>
      <nav aria-label="Table of contents">
        <ul>
        {% for h1 in page.toc %}
          <li>
            <a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
            {% if h1.children %}
              <ul>
              {% for h2 in h1.children %}
                <li><a href="{{ h2.permalink | safe }}">{{ h2.title }}</a></li>
              {% endfor %}
              </ul>
            {% endif %}
          </li>
        {% endfor %}
        </ul>
      </nav>
    </details>
    {% endif %}

    <div class="content">
      {{ page.content | safe }}
    </div>
  </article>
{% endblock content %}
